{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/AWS/facial-recognition-app/authentication-portal/src/App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [image, setImage] = useState('');\n  const [uploadMessage, setUploadMessage] = useState('Please upload an image to authenticate');\n  const [imgName, setImageName] = useState('placeholder.jpeg');\n  const [isAuth, setAuth] = useState(false);\n  function sendImage(e) {\n    e.preventDefault();\n    setImageName(image.name);\n    const visitorImageName = uuidv4();\n\n    // send image to api gateway\n    fetch(`https://.execute-api.us-east-1.amazonaws.com/v1/visitor-images-0ef12/${visitorImageName}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'image/jpeg'\n      },\n      body: image\n    }).then(async () => {\n      const response = await authenticate(visitorImageName);\n      if (response.Message == 'Success') {\n        setUploadMessage(`Hi ${response['firstname']} ${response['lastname']}, welcome to work, hope you have a productive day today!`);\n        setAuth(true);\n      } else {\n        setUploadMessage('Authentication Failed: This person is not an employee.');\n        setAuth(false);\n      }\n    }).catch(e => {\n      setAuth(false);\n      setUploadMessage('There was an error during the authentication process. Please try again');\n      console.error(e);\n    });\n  }\n  async function authenticate(visitorImageName) {\n    const requestURL = \"https://.execute-api.us-east-1.amazonaws.com/v1\" + new URLSearchParams({\n      objectKey: `${visitorImageName}.jpeg`\n    });\n    return await fetch(requestURL, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(data => {\n      return data;\n    }).catch(e => console.error(e));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Facial Recognition System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: sendImage,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        onChange: e => setImage(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Authenticate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: isAuth ? 'success' : 'failure',\n      children: uploadMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: require(`./visitors/${imgName}`),\n      alt: \"Visitor\",\n      height: 250,\n      width: 250\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"8zeBQSOFjcFpZOFKOZxVa14ruTs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","v4","uuidv4","jsxDEV","_jsxDEV","App","_s","image","setImage","uploadMessage","setUploadMessage","imgName","setImageName","isAuth","setAuth","sendImage","e","preventDefault","name","visitorImageName","fetch","method","headers","body","then","response","authenticate","Message","catch","console","error","requestURL","URLSearchParams","objectKey","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","target","files","src","require","alt","height","width","_c","$RefreshReg$"],"sources":["/Users/apple/Desktop/AWS/facial-recognition-app/authentication-portal/src/App.js"],"sourcesContent":["import './App.css';\nimport { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\n\nfunction App() {\n\n  const [image, setImage] = useState('');\n  const [uploadMessage, setUploadMessage] = useState('Please upload an image to authenticate');\n  const [imgName, setImageName] = useState('placeholder.jpeg');\n  const [isAuth, setAuth] = useState(false);\n\n  function sendImage(e) {\n    e.preventDefault();\n    setImageName(image.name);\n    const visitorImageName = uuidv4();\n    \n    // send image to api gateway\n    fetch(`https://.execute-api.us-east-1.amazonaws.com/v1/visitor-images-0ef12/${visitorImageName}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'image/jpeg'\n      },\n      body: image\n    }).then(async () => {\n      const response = await authenticate(visitorImageName);\n      if (response.Message == 'Success') {\n        setUploadMessage(`Hi ${response['firstname']} ${response['lastname']}, welcome to work, hope you have a productive day today!`);\n        setAuth(true);\n      } else {\n        setUploadMessage('Authentication Failed: This person is not an employee.');\n        setAuth(false);\n      }\n    }).catch(e => {\n      setAuth(false);\n      setUploadMessage('There was an error during the authentication process. Please try again');\n      console.error(e);\n    })\n  }\n\nasync function authenticate(visitorImageName) {\n  const requestURL = \"https://.execute-api.us-east-1.amazonaws.com/v1\" + new URLSearchParams({\n    objectKey: `${visitorImageName}.jpeg` \n  });\n  return await fetch(requestURL, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  }).then((data) => {\n    return data; \n  }).catch(e => console.error(e));\n}\n\n  return (\n    <div className=\"App\">\n      <h2>Facial Recognition System</h2>\n      <form onSubmit={sendImage}>\n        <input type='file' name='image' onChange = {e => setImage(e.target.files[0])}></input>\n        <button type = 'submit'>Authenticate</button>\n      </form>\n      <div className = { isAuth ? 'success' : 'failure' } >\n        {uploadMessage}\n      </div>\n      <img src={require(`./visitors/${imgName}`)} alt = 'Visitor' height = {250} width = {250} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}